import{a as L,r as i,u as w,j as e,H as D,b as E}from"./app-CNGjdSTo.js";import{D as I}from"./data-table-B-d46U5A.js";import{z as C,a as d,A as z}from"./app-layout-Yr-265i6.js";import{d as T}from"./index-Cmwdccs3.js";import{P as A,T as P}from"./trash-2-_gsoOk2m.js";/* empty css            */import"./button-BxtkxcwU.js";import"./search-CghRPlTX.js";import"./createLucideIcon-BNUT-dRz.js";import"./index-BPuxuOo8.js";import"./index-DMsz7JPz.js";import"./x-B8MTmYU5.js";function Y({auth:u,lokasi:c,filters:x}){const{flash:n}=L().props,[r,l]=i.useState(null),[h,s]=i.useState(!1),[b,p]=i.useState(x.search||""),o=u.permissions||[],a=w({nama:"",alamat:""});i.useEffect(()=>{n?.message&&(a.reset(),C.success(n.message))},[n?.message]);const g=t=>{t.preventDefault(),r?a.put(`/lokasi/${r.id}`,{onSuccess:()=>{l(null),s(!1)}}):a.post("/lokasi",{onSuccess:()=>s(!1)})},f=t=>{a.setData("nama",t.nama),a.setData("alamat",t.alamat),l(t),s(!0)},k=t=>{confirm("Yakin ingin menghapus lokasi ini?")&&a.delete(`/lokasi/${t}`)},m=()=>{a.reset(),l(null),s(!1)},j=t=>{p(t),T(()=>{E.get(route("lokasi.index"),{search:t},{preserveState:!0,replace:!0})},400)()},y=o.includes(d.CREATE_LOKASI_DISTRIBUSI),N=o.includes(d.EDIT_LOKASI_DISTRIBUSI),S=o.includes(d.DELETE_LOKASI_DISTRIBUSI),v=[{header:"Nama Lokasi",accessorKey:"nama",className:"text-left"},{header:"Alamat",accessorKey:"alamat",className:"text-left"}];return e.jsx(z,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 dark:bg-zinc-950",children:[e.jsx(D,{title:"Lokasi"}),e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Data Lokasi"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Kelola daftar lokasi distribusi/gudang."})]})}),h&&e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[e.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:r?"Edit Lokasi":"Tambah Lokasi Baru"}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600",children:e.jsx("span",{className:"sr-only",children:"Close"})})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-gray-200",children:"Nama Lokasi"}),e.jsx("input",{type:"text",value:a.data.nama,onChange:t=>a.setData("nama",t.target.value),className:"w-full rounded-md border border-gray-200 p-2.5 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",required:!0}),a.errors.nama&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.nama})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-gray-200",children:"Alamat"}),e.jsx("input",{type:"text",value:a.data.alamat,onChange:t=>a.setData("alamat",t.target.value),className:"w-full rounded-md border border-gray-200 p-2.5 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",required:!0}),a.errors.alamat&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.alamat})]}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("button",{type:"submit",disabled:a.processing,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 disabled:opacity-50",children:r?"Simpan Perubahan":"Simpan Lokasi"}),e.jsx("button",{type:"button",onClick:m,className:"rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-gray-50 hover:text-slate-900",children:"Batal"})]})]})]}),e.jsx(I,{data:c.data,columns:v,links:c.links,searchPlaceholder:"Cari lokasi...",onSearch:j,initialSearch:b,onCreate:y?()=>{s(!0),l(null),a.reset()}:void 0,createLabel:"Tambah Lokasi",actionWidth:"w-[100px]",actions:t=>e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[N&&e.jsx("button",{onClick:()=>f(t),className:"group hover:bg-opacity-100 rounded-full p-2 text-blue-600 transition-all hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",title:"Edit",children:e.jsx(A,{size:16})}),S&&e.jsx("button",{onClick:()=>k(t.id),className:"group hover:bg-opacity-100 rounded-full p-2 text-red-600 transition-all hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",title:"Hapus",children:e.jsx(P,{size:16})})]})})]})]})})}export{Y as default};
